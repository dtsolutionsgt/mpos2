USE [MPOS2]
GO

/****** Object:  Table [dbo].[VENDEDORES]    Script Date: 29/05/2020 15:36:24 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE TABLE [dbo].[VENDEDORES](
	[CODIGO_VENDEDOR] [int] IDENTITY(1,1) NOT NULL,
	[CODIGO] [nvarchar](8) NOT NULL,
	[EMPRESA] [int] NOT NULL,
	[RUTA] [int] NOT NULL,
	[NOMBRE] [nvarchar](50) NULL,
	[CLAVE] [nvarchar](15) NULL,
	[NIVEL] [int] NOT NULL,
	[NIVELPRECIO] [float] NOT NULL,
	[BODEGA] [nvarchar](15) NULL,
	[SUBBODEGA] [nvarchar](15) NULL,
	[IMAGEN] [image] NULL,
	[ACTIVO] [bit] NULL,
	[FECHA_INICIO_LABORES] [date] NULL,
	[FECHA_FIN_LABORES] [date] NULL,
 CONSTRAINT [PK_VENDEDORES] PRIMARY KEY CLUSTERED 
(
	[CODIGO_VENDEDOR] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]
GO

ALTER TABLE [dbo].[VENDEDORES] ADD  CONSTRAINT [DF_VENDEDORES_NIVELPRECIO]  DEFAULT ((2)) FOR [NIVELPRECIO]
GO

ALTER TABLE [dbo].[VENDEDORES] ADD  CONSTRAINT [DF_VENDEDORES_BODEGA]  DEFAULT ((0)) FOR [BODEGA]
GO

ALTER TABLE [dbo].[VENDEDORES] ADD  CONSTRAINT [DF_VENDEDORES_activo]  DEFAULT ((1)) FOR [ACTIVO]
GO

ALTER TABLE [dbo].[VENDEDORES]  WITH CHECK ADD  CONSTRAINT [FK_VENDEDORES_P_EMPRESA] FOREIGN KEY([EMPRESA])
REFERENCES [dbo].[P_EMPRESA] ([EMPRESA])
ON DELETE CASCADE
GO

ALTER TABLE [dbo].[VENDEDORES] CHECK CONSTRAINT [FK_VENDEDORES_P_EMPRESA]
GO

ALTER TABLE [dbo].[VENDEDORES]  WITH CHECK ADD  CONSTRAINT [FK_VENDEDORES_P_RUTA] FOREIGN KEY([RUTA])
REFERENCES [dbo].[P_RUTA] ([CODIGO_RUTA])
GO

ALTER TABLE [dbo].[VENDEDORES] CHECK CONSTRAINT [FK_VENDEDORES_P_RUTA]
GO

ALTER TABLE [dbo].[VENDEDORES]  WITH CHECK ADD  CONSTRAINT [FK_VENDEDORES_P_USGRUPO] FOREIGN KEY([NIVEL])
REFERENCES [dbo].[P_USGRUPO] ([CODIGO])
GO

ALTER TABLE [dbo].[VENDEDORES] CHECK CONSTRAINT [FK_VENDEDORES_P_USGRUPO]
GO


